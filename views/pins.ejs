<!DOCTYPE html>
<html lang="en">

<%- include('partials/_head'); %>

<body>

  <main class="main-pins-container">

    <header>
      <div class="pins-map-details">
        <h2><%= mapData.title %> â€¢ <%= mapData.city %></h2>
        <h3><em><%= mapData.description %></em></h3>
      </div>
      <button id="add-new-pin" type="submit">+ Add Pin</button>
    </header>

    <section class="pins-container">

      <% for(const pin of pinsArray) { %>
        <article class=pin-container>
          <div class=pin-container-inside>
            <img src="<%= pin.img_url %>">
            <div class="pin-details">
              <h4><%= pin.title %></h4>
              <p><em><%= pin.description %></em></p>
            </div>
          </div>
          <div class="pin-details">
            <p class="coords"><em>LAT: <%= pin.lat %></em></p>
            <p class="coords"><em>LNG: <%= pin.lng %></em></p>
          </div>
          <div class=pin-container-inside>
            <span class="pin-creator"><i class="fas fa-map-marker-alt"></i><%= pin.creator %></span>

            <% if (user_id === pin.creator_id) { %>
              <div class="pin-modify-buttons">
                <button id="pin-update-button"><i class="fas fa-edit"></i></button>
                <button id="pin-delete-button"><i class="fas fa-trash-alt"></i></button>
              </div>
            <% } %>

          </div>
        </article>
      <% } %>

    </section>

    <section id="map-container">
      <button id="show-google-map">Show Map <i class="fas fa-angle-double-down"></i></button>

      <div id="map">

      </div>
    </section>

  </main>

  <%- include('partials/_footer'); %>

  <!-- App JS -->
  <script type="module" src='/scripts/config.js'></script>
  <script type="module" src="/scripts/pinScripts.js"></script>

</body>

</html>
